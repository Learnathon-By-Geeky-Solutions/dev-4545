import { User } from "@models/user-model";

export const mockUsers: User[] = [
  {
    id: 1,
    email: "john@mail.com",
    password: "changeme",
    name: "Jhon",
    role: "customer",
    avatar: "https://i.imgur.com/LDOO4Qs.jpg",
    creationAt: "2025-03-14T16:22:21.000Z",
    updatedAt: "2025-03-14T16:22:21.000Z",
  },
  {
    id: 21,
    email: "maria@mail.com",
    password: "12345",
    name: "Maria",
    role: "customer",
    avatar: "https://i.imgur.com/DTfowdu.jpg",
    creationAt: "2025-03-14T16:22:21.000Z",
    updatedAt: "2025-03-14T16:22:21.000Z",
  },
  {
    id: 3,
    email: "admin@mail.com",
    password: "admin123",
    name: "Admin",
    role: "admin",
    avatar: "https://i.imgur.com/yhW6Yw1.jpg",
    creationAt: "2025-03-14T16:22:21.000Z",
    updatedAt: "2025-03-14T16:22:21.000Z",
  },
  {
    id: 73,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:44:25.000Z",
    updatedAt: "2025-03-15T09:44:25.000Z",
  },
  {
    id: 74,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:44:27.000Z",
    updatedAt: "2025-03-15T09:44:27.000Z",
  },
  {
    id: 75,
    email: "Marilou.Ratke6@gmail.com",
    password: "jGYOtVV45RBOgKC",
    name: "William Mayer",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:44:32.000Z",
    updatedAt: "2025-03-15T09:44:32.000Z",
  },
  {
    id: 76,
    email: "chikili.haritha@gmail.com",
    password: "password123",
    name: "haritha",
    role: "customer",
    avatar: "https://ui-avatars.com/api/?name=haritha+rathnakaram",
    creationAt: "2025-03-15T09:44:48.000Z",
    updatedAt: "2025-03-15T09:44:48.000Z",
  },
  {
    id: 77,
    email: "shru@gmail.com",
    password: "123456",
    name: "shru",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:45:21.000Z",
    updatedAt: "2025-03-15T09:45:21.000Z",
  },
  {
    id: 78,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:48:54.000Z",
    updatedAt: "2025-03-15T09:48:54.000Z",
  },
  {
    id: 79,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:48:56.000Z",
    updatedAt: "2025-03-15T09:48:56.000Z",
  },
  {
    id: 80,
    email: "Glen.Becker@hotmail.com",
    password: "RVko9acCipQZKIX",
    name: "Jared Nitzsche",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:49:03.000Z",
    updatedAt: "2025-03-15T09:49:03.000Z",
  },
  {
    id: 81,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:50:18.000Z",
    updatedAt: "2025-03-15T09:50:18.000Z",
  },
  {
    id: 82,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:50:20.000Z",
    updatedAt: "2025-03-15T09:50:20.000Z",
  },
  {
    id: 83,
    email: "Coty43@yahoo.com",
    password: "NyBfhIFI9GKC9Fn",
    name: "Tony Nienow",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:50:26.000Z",
    updatedAt: "2025-03-15T09:50:26.000Z",
  },
  {
    id: 84,
    email: "newmanus5758@gmail.com",
    password: "nurinafi",
    name: "Siti ",
    role: "customer",
    avatar: "https://api.lorem.space/image/face?w=640&h=480",
    creationAt: "2025-03-15T09:51:03.000Z",
    updatedAt: "2025-03-15T09:51:03.000Z",
  },
  {
    id: 85,
    email: "newmanus5758@gmail.com",
    password: "nurinafi",
    name: "Siti",
    role: "customer",
    avatar: "https://api.lorem.space/image/face?w=640&h=480",
    creationAt: "2025-03-15T09:51:39.000Z",
    updatedAt: "2025-03-15T09:51:39.000Z",
  },
  {
    id: 86,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:54:32.000Z",
    updatedAt: "2025-03-15T09:54:32.000Z",
  },
  {
    id: 87,
    email: "nico@gmail.com",
    password: "1234",
    name: "Nicolas",
    role: "customer",
    avatar: "https://picsum.photos/800",
    creationAt: "2025-03-15T09:54:34.000Z",
    updatedAt: "2025-03-15T09:54:34.000Z",
  },
//   {
//     id: 88,
//     email: "Annalise98@hotmail.com",
//     password: "1o3MFmmY4Idqz37",
//     name: "Harry Schmeler",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:54:39.000Z",
//     updatedAt: "2025-03-15T09:54:39.000Z",
//   },
//   {
//     id: 89,
//     email: "nico@gmail.com",
//     password: "1234",
//     name: "Nicolas",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:57:15.000Z",
//     updatedAt: "2025-03-15T09:57:15.000Z",
//   },
//   {
//     id: 90,
//     email: "nico@gmail.com",
//     password: "1234",
//     name: "Nicolas",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:57:17.000Z",
//     updatedAt: "2025-03-15T09:57:17.000Z",
//   },
//   {
//     id: 91,
//     email: "nico@gmail.com",
//     password: "1234",
//     name: "Nicolas",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:59:04.000Z",
//     updatedAt: "2025-03-15T09:59:04.000Z",
//   },
//   {
//     id: 92,
//     email: "nico@gmail.com",
//     password: "1234",
//     name: "Nicolas",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:59:06.000Z",
//     updatedAt: "2025-03-15T09:59:06.000Z",
//   },
//   {
//     id: 93,
//     email: "Joaquin_Gulgowski29@yahoo.com",
//     password: "VIDAs0jnsHZANL3",
//     name: "Stella Ortiz",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T09:59:12.000Z",
//     updatedAt: "2025-03-15T09:59:12.000Z",
//   },
//   {
//     id: 94,
//     email: "coolcats@mail.com",
//     password: "343423",
//     name: "coolcats",
//     role: "customer",
//     avatar:
//       "https://docs.gravatar.com/wp-content/uploads/2025/02/avatar-mysteryperson-20250210-256.png?w=256",
//     creationAt: "2025-03-15T10:49:47.000Z",
//     updatedAt: "2025-03-15T10:49:47.000Z",
//   },
//   {
//     id: 95,
//     email: "AS@gmail.com",
//     password: "1234",
//     name: "Arif Shumon",
//     role: "customer",
//     avatar: "https://picsum.photos/800",
//     creationAt: "2025-03-15T11:05:43.000Z",
//     updatedAt: "2025-03-15T11:05:43.000Z",
//   },
//   {
//     id: 98,
//     email: "jayshrikale459@gmail.com",
//     password: "1234567890",
//     name: "jayshri kale",
//     role: "customer",
//     avatar: "https://avatar.iran.liara.run/public",
//     creationAt: "2025-03-15T12:24:05.000Z",
//     updatedAt: "2025-03-15T12:24:05.000Z",
//   },
];

// Helper function to filter and sort users based on query parameters
export const getUsersWithFilters = (queryParams: any = {}) => {
  let filteredUsers = [...mockUsers];

  // Apply search filter if provided
  if (queryParams.search) {
    const searchTerm = queryParams.search.toLowerCase();
    filteredUsers = filteredUsers.filter(
      (user) =>
        user.name.toLowerCase().includes(searchTerm) ||
        user.email.toLowerCase().includes(searchTerm) ||
        user.role.toLowerCase().includes(searchTerm)
    );
  }

  // Apply sorting if provided
  if (queryParams.sort) {
    const sortField = queryParams.sort.startsWith("-")
      ? queryParams.sort.substring(1)
      : queryParams.sort;

    const sortDirection = queryParams.sort.startsWith("-") ? -1 : 1;

    filteredUsers.sort((a, b) => {
      if (a[sortField] < b[sortField]) return -1 * sortDirection;
      if (a[sortField] > b[sortField]) return 1 * sortDirection;
      return 0;
    });
  }

  // Apply pagination if provided
  if (queryParams.limit && queryParams.offset !== undefined) {
    const start = queryParams.offset;
    const end = start + queryParams.limit;
    filteredUsers = filteredUsers.slice(start, end);
  }

  return filteredUsers;
};

// Function to get a single user by ID
export const getUserById = (userId: number) => {
  return mockUsers.find((user) => user.id === userId);
};

// Function to create or update a user
export const saveUser = (userData: User) => {
  if (userData.id && userData.id > 0) {
    // Update existing user
    const index = mockUsers.findIndex((user) => user.id === userData.id);
    if (index !== -1) {
      mockUsers[index] = { ...mockUsers[index], ...userData };
      return mockUsers[index];
    }
  } else {
    // Create new user
    const newUser = {
      ...userData,
      id: Math.max(...mockUsers.map((user) => user.id || 0)) + 1,
      creationAt: new Date().toISOString(),
      updatedAt: new Date().toISOString(),
    };
    mockUsers.push(newUser);
    return newUser;
  }

  return userData;
};
